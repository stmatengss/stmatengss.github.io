<!DOCTYPE html>
<html>
<head>
<script language="javascript">

function PwdGenerate(Min, Max)
{
	var Range=Max-Min;
	var Rand=Math.random();
	return (Min+Math.round(Rand*Range));
}

//alert(PwdGenerate(1,6));

</script>  
</head>
<body>

<script type="text/javascript">
var password=40;
var Count;
var CurrentCount=0;
var flag;

document.body.innerHTML="";
var t;
var i=104;
var layer=7;
var a=new Array(i);
var b=new Array(layer);


for(t=0;t<layer;t++)
{
	b[t]=PwdGenerate(1, i);
}

function sz()
{
	var aaa=document.getElementById("txt1");
	aaa.value="";
	for(t=0;t<layer;t++)
	{
		aaa.value=aaa.value+b[t]+" "
	}
}

for(t=0;t<i;t++)
{
	var bt;
	bt=document.createElement("input");
	bt.type="button";
	bt.value="\n\n\n"+t;
//	bt.style.fontSize="0px";
	bt.style.height="80px";
	bt.style.width="80px";
	bt.style.marginLeft="13px";
	bt.style.marginTop="0px";
	bt.style.backgroundImage="url('img/5.jpg')";
	bt.style.backgroundSize="100%";
	bt.style.backgroundRepeat="no-repeat";
	bt.style.backgroundPosition="center";
	bt.style.border="none";
	bt.style.outline="none";
	bt.addEventListener("click", function changeBCKG(){
		initAll();
		this.style.backgroundImage="url('img/3.png')";
		this.style.color="white";
	});
	bt.addEventListener("dblclick", function GetValue(){
	//	document.bgColor = "#d0d0d0";
	//	setTimeout(function(){document.bgColor = "#ffffff";},10);
		initbg1();
		setTimeout(function initbg2()
		{
			var objs = document.all;
  		    var length1;
  		    for (var i=4;i<108;i++) 
	        {
	        	objs[i].style.backgroundImage="url('img/5.jpg')";
	         	objs[i].style.color="black";
	        }
        },10);
		a[CurrentCount]=this.value;
		var bbb=document.getElementById("txt2");
		bbb.value+=a[CurrentCount]+" ";
		CurrentCount=CurrentCount+1;
		if(CurrentCount>=layer)
		{
			if(aequal(a,b)==1)
			location.href = "success.html";
			else
			location.href = "failure.html";
		}
	});
	document.body.appendChild(bt);
	//if(t%12==0)
	//document.write("<br />") ;
}

function backOff()
{
	if(CurrentCount==0)
	{
		alert("当前不可倒退！");
	}
	else
	{
		CurrentCount=CurrentCount-1;
	}
}

function initAll()
{
	var objs = document.all;
    var length1;
    for (var i=4;i<108;i++) 
	{
		objs[i].style.backgroundImage="url('img/5.jpg')";
		objs[i].style.backgroundSize="100%";
	    objs[i].style.backgroundRepeat="no-repeat";
		objs[i].style.color="black";
	}
}

function initbg1()
{
	var objs = document.all;
    var length1;
    for (var i=4;i<108;i++) 
	{
		objs[i].style.backgroundImage="url('img/blank.png')";
	//	objs[i].style.color="white";
	}
}



function PwdGenerate(Min, Max)
{
	var Range=Max-Min;
	var Rand=Math.random();
	return (Min+Math.round(Rand*Range));
}

function aequal(a,b)
{
	var len=a.length;
	var i;
	var flag=1;
	for(i=0;i<len;i++)
	{
		if(a[i]!=b[i])
		{
			flag=0;
			break;
		}
	}
	return flag;
}

</script>

<br/>
<input onclick="backOff()" type="button" name="button" class="btn" id="button" value="" style="width:34px; height:34px; background-image:url(img/doorin2.gif)"/>
<input id="txt1" style="visibility:hidden"/>
<input id="txt2" style="visibility:hidden"/>
<button onclick="sz()" style="visibility:hidden">初始化密码</button>

</body>
</html>